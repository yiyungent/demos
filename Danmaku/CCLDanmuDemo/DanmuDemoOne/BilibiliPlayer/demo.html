
<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta http-equiv="X-UA-Compatible" value="IE=9">
	<link rel="stylesheet" href="css/base.css" />
	<link rel="stylesheet" href="css/colpick.css" />
	<title>New Interface Test for ABPlayer</title>
	<script src="js/jquery.min.js"></script>
	<script src="js/CommentCoreLibrary.min.js"></script>
	<!-- 注意：不能直接使用CCL的js，因为此播放器为其ccl.js做了很多扩充，加了东西 -->
	<!--<script src="../dist/CommentCoreLibrary.js"></script>-->
	<script src="js/ABPMobile.js"></script>
	<script src="js/ABPLibxml.js"></script>
	<script src="js/ABPlayer.js"></script>
	<script src="js/ColPick.js"></script>
	<script type="text/javascript">
		window.addEventListener("load", function () {
			var inst = ABP.create(document.getElementById("player1"), {
				src: {
					playlist: [{
						video: document.getElementById("video-1"),
						comments: "comment-science.xml"
					}]
				},
				width: 960,
				height: 500,
				mobile: isMobile()
			});
			window.abpinst = inst;
		});
	</script>
</head>
<body>
	<div id="player1">
		<video id="video-1" autobuffer="true" data-setup="{}">
			<source src="http://7xl73j.dl1.z0.glb.clouddn.com/ccltestingvideos/outer_science.mp4" type="video/mp4">
			<source src="http://static.cdn.moe/ccltestingvideos/outer_science.webm" type="video/webm">
			<p>Your browser does not support html5 video!</p>
		</video>
	</div>
</body>
</html>
<!--
在标准版CCL中
CM.position 表示当前在运行中（runline）的当前弹幕是第几条
CM._lastPosition 表示当前播放时间

值得注意的是 CM.send(jsonobj danmu)  不会将此弹幕放入时间轴(timeline)，而是会将其放入运行列表(runline)，也就是说会立即显示此条弹幕

而 CM.insert()  是将弹幕放入时间轴(timeline)，当弹幕的"stime" 小于 当前播放时间时可能不会显示（不会放入runline）

demo:
CM.insert({
		"mode": 1,
		"text": "2333333333333",
		"stime": CM._lastPosition+200,
		"size": 30,
		"color": 0x18c5f5,
		"border": true
})



在abp CCL中
abpinst.cmManager.position 表示当前在运行中（runline）的当前弹幕是第几条
abpinst.cmManager.lastPos 表示当前播放时间

demo:
abpinst.cmManager.insert({
		"mode": 1,
		"text": "2333333333333",
		"stime": abpinst.cmManager.lastPos+200,
		"size": 30,
		"color": 0x18c5f5,
		"border": true
})
-->
